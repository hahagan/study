[TOC]

### åŸºæœ¬æ¦‚å¿µ

#### 1.å­—æ®µ

å­—æ®µåµŒå¥—å®Œæˆå¯¹èµ„æºçš„æŸ¥è¯¢ï¼Œæ¯ä¸ªå­—æ®µå¯¹åº”ä¸€ç§èµ„æº/æŸ¥è¯¢æ–¹æ³•/æŸ¥è¯¢ç»“æœã€‚å­—æ®µçš„å­å­—æ®µåˆ™æ˜¯å¯¹çˆ¶å­—æ®µç»“æœçš„å­é›†æˆ–è¿›ä¸€æ­¥å¤„ç†ã€‚ç¡®ä¿ä¸€æ¬¡è¯·æ±‚è·å–çš„æ•°æ®ä¸å¤šä¹Ÿä¸å°‘ã€‚

```json
{
    hero {
    	name
	}
}
```

#### 2.å‚æ•°

æ¯ä¸ªå­—æ®µéƒ½å¯ä»¥è®¾ç½®å‚æ•°ï¼Œç”šè‡³å¯¹äºå­å­—æ®µä¹Ÿå¯ä»¥è®¾ç½®å‚æ•°ã€‚å‚æ•°å¯ç”¨äºè¿‡æ»¤æ•°æ®æˆ–å…¶ä»–ç”¨é€”

```
{
  human(id: "1000") {
    name
    height
  }
}
```

#### 3.åˆ«å

å¯ä»¥ä¸ºç›¸åŒçš„æŸ¥è¯¢è®¾ç½®ä¸åŒçš„åˆ«åï¼Œæ–¹ä¾¿åœ¨ä½¿ç”¨æ—¶è¿›è¡ŒåŒºåˆ†ã€‚ä¾‹å¦‚éƒ½æ˜¯`hero`ç±»å‹çš„æŸ¥è¯¢ï¼Œä½†æ˜¯ç”±äºå‚æ•°çš„ä¸åŒï¼Œå¯ä»¥è·å–åˆ°ä¸åŒçš„æ•°æ®ï¼Œå¯ä»¥ä¸ºæ•°æ®è¿›è¡ŒåŒºåˆ†ï¼Œæ–¹ä¾¿ä½¿ç”¨æˆ–é¿å…å†²çª

```
{
  empireHero: hero(episode: EMPIRE) {
    name
  }
  jediHero: hero(episode: JEDI) {
    name
  }
}
```



#### 4.Fragmentsç‰‡æ®µ

ç‰‡æ®µç”¨äºæå–å…¬å…±çš„æ•°æ®ç»“æ„ï¼Œä¾¿äºå¤ç”¨ã€‚

```
{
  leftComparison: hero(episode: EMPIRE) {
    ...comparisonFields
  }
  rightComparison: hero(episode: JEDI) {
    ...comparisonFields
  }
}

fragment comparisonFields on Character {
  name
  appearsIn
  friends {
    name
  }
}
```

##### åœ¨ç‰‡æ®µä¸­ä½¿ç”¨å‚æ•°

åœ¨ç‰‡æ®µä¸­çš„ä½¿ç”¨çš„å‚æ•°å…¶å€¼ä¸ºå¼•ç”¨å¤„å®šä¹‰çš„å˜é‡åï¼Œä»¥æ­¤å½¢æˆç»‘å®šã€‚ä¾‹å¦‚åœ¨`query`ä¸­å®šä¹‰`$first`å˜é‡ï¼Œ`fragment comparisonFields`ä¸­å‚æ•°çš„å€¼å³ä¸º`$first`

```
query HeroComparison($first: Int = 3) {
  leftComparison: hero(episode: EMPIRE) {
    ...comparisonFields
  }
  rightComparison: hero(episode: JEDI) {
    ...comparisonFields
  }
}

fragment comparisonFields on Character {
  name
  friendsConnection(first: $first) {
    totalCount
    edges {
      node {
        name
      }
    }
  }
}
```



#### 5.æ“ä½œå®šä¹‰

æ“ä½œç±»å‹æœ‰`query`,`mutation`,`subscription`ç”¨äºæè¿°æœŸæœ›çš„æ“ä½œè¡Œä¸ºã€‚å¯ä»¥åœ¨åŒä¸€ç»“æ„æ–‡æœ¬ä¸Šå®šä¹‰å¤šç§æ“ä½œè¡Œä¸ºã€‚åœ¨ä¾‹å­ä¸­`query`ä¸ºæ“ä½œç±»å‹ï¼Œè€Œ`HeroComparison`ä¸ºæ“ä½œåç§°ã€‚

```
query HeroComparison($first: Int = 3) {
  leftComparison: hero(episode: EMPIRE) {
    ...comparisonFields
  }
  rightComparison: hero(episode: JEDI) {
    ...comparisonFields
  }
}
```



#### 6.å˜é‡

åœ¨æœåŠ¡ç«¯å®šä¹‰äº†ä¸€ç³»åˆ—è¯·æ±‚åï¼Œå®¢æˆ·ç«¯å¯ä»¥å¯¹è¿™äº›è¯·æ±‚è¿›è¡Œä½¿ç”¨ï¼Œå¹¶ä¸”åœ¨å®¢æˆ·ç«¯è¿è¡Œæ—¶å¯¹è¯·æ±‚çš„è®¾ç½®çš„å˜é‡è¿›è¡Œå˜æ›´ã€‚

æ•´ä¸ªå·¥ä½œæµç¨‹ä¸º(ğŸ¤®ï¼šæ‰€ä»¥å’Œhttpæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¯¹å®¢æˆ·ç«¯å˜é‡ä¸å°±æ˜¯httpçš„å‚æ•°å—....ï¼Œhttpä¸­uriå’Œè¯·æ±‚ç±»å‹ä¸å°±æ˜¯é€‰query)ï¼š

1. æœåŠ¡ç«¯å®šä¹‰queryï¼Œå¹¶å°†é™æ€çš„å€¼è®¾ç½®ä¸ºå˜é‡
2. å®¢æˆ·ç«¯ä½¿ç”¨æ—¶å‘é€å®¢æˆ·æŒ‡å®šçš„å˜é‡å€¼

##### å˜é‡å®šä¹‰

åœ¨æ“ä½œå®šä¹‰éƒ¨åˆ†è¿›è¡Œå®šä¹‰ï¼Œä¾‹å¦‚ï¼Œ`query HeroNameAndFriends($episode: Episode)`ä¸­çš„`$episode: Episode`ï¼Œå˜é‡åä¸º`episode`ï¼Œç±»å‹ä¸º`Episode`

#### 

## Directives

æ™®é€šçš„å­å­—æ®µä¼šé»˜è®¤å¯¹æ•°æ®çš„å­é›†è¿›è¡Œå¤„ç†ï¼Œè€ŒDirectivesç‰¹æ€§å…è®¸æ¥å£åŸºäºæ¡ä»¶å¯¹äºæ•°æ®å†…å®¹æ§åˆ¶

```
query Hero($episode: Episode, $withFriends: Boolean!) {
  hero(episode: $episode) {
    name
    friends @include(if: $withFriends) {
      name
    }
  }
}
```

* `@include(if: Boolean)`ï¼šä»…å½“è¯¥å­—ç«¯å­˜åœ¨ï¼Œä¸”æ¡ä»¶åˆ¤æ–­ä¸ºçœŸæ—¶ä¼šåŒ…å«è¯¥å­—æ®µ
* `@skio(if: Boolean)`ï¼šå½“æ¡ä»¶åˆ¤æ–­ä¸ºçœŸæ—¶ï¼Œè·³è¿‡è¯¥å­—æ®µ



#### Mutations

ç”¨äºæœåŠ¡ç«¯æ•°æ®ä¿®æ”¹

```
mutation CreateReviewForEpisode($ep: Episode!, $review: ReviewInput!) {
  createReview(episode: $ep, review: $review) {
    stars
    commentary
  }
}
```

queryå’Œmutationçš„ä¸€ä¸ªé‡è¦åŒºåˆ«åœ¨äºï¼šqueryçš„å¤šä¸ªå­—æ®µä¸ºå¹¶è¡Œæ‰§è¡Œå†æ‹¼æ¥ï¼Œè€Œmutationä¸ºé¡ºåºæ‰§è¡Œ



#### Inline Fragments

åœ¨æŸ¥è¯¢å­—æ®µè¿”å›interfaceæˆ–unionæ—¶ï¼Œä½¿ç”¨`Inline Fragments`ç»“åˆå…·ä½“ç±»å‹æ¥è®¿é—®æ•°æ®

```
query HeroForEpisode($ep: Episode!) {
  hero(episode: $ep) {
    name
    ... on Droid {
      primaryFunction
    }
    ... on Human {
      height
    }
  }
}
```



### metadata fields

å¯ç”¨äºåœ¨å®¢æˆ·ç«¯è·å–æ•°æ®å…ƒä¿¡æ¯ï¼Œä»¥æ­¤å†³å®šæ•°æ®çš„å¤„ç†æ–¹å¼ã€‚ä¾‹å¦‚è·å–å­—æ®µçš„ç±»å‹ï¼Œå†³å®šæ•°æ®çš„å¤„ç†æ–¹å¼ï¼Œé€šè¿‡è¯·æ±‚`__typename`å­—æ®µ

```
  search(text: "an") {
    __typename
    ... on Human {
      name
    }
    ... on Droid {
      name
    }
    ... on Starship {
      name
    }
  }
}
```

