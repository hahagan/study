# 应用文件格式

## 概念
用于将应用程序状态保存到磁盘或在程序之间交换信息的文件格式。
区分"文件格式"和"应用文件格式"，文件格式用于存储单个对象，例如gif文件存储单个对象。<br/>
一个epub文件存储图像和文件，所以可以被认为是"应用文件格式"。
文件格式和应用文件格式间界限是模糊的，很大程度上取决与上下文。

## 分类
大多数应用文件格式属于以下三类:
* 完全自定义格式 自定义格式是专门为单个应用程序设计的。例如DOC和PPT等。需要专门的应用程序进行读取和写入
* 堆文件格式 一些应用状态时存储于层次的文件中的。例如git。文本对格式本质上将文件系统用作键/值数据库，将一小部分信息存储到到单独文件<br/>
这使内容更容易被程序访问的优点。无需专用工具也可以进行读取，但不利于转移
* 堆包文件格式 某些程序使用堆文件格式，然后将堆文件装在到某种单个文件容器中。例如zip存档

## sqlite的应用文件格式
任何使用pile-of-files存储的应用状态也可以使用sqlite的数据进行存储。例如如下简单的使用键值对进行存储
```sql
CREATE TABLE files(filename TEXT PRIMARY KEY, content BLOB)
```
sqlite对数据的压缩能力和zip几乎相同，存在1%的区别。且可以不需要更新整个文档就可以更新单个文件。
sqlite还能提供更多功能，与键值文件系统或zip存档相比，sqlite数据库可以作为用途更广的容器

## 优势
* 简化的应用程序开发
* 单文件文档 sqlite数据库包含在一个文件中
* 高级查询语言
* 无障碍内容
* 跨平台 在32位和64位机器之间，大端和小端体系结构，windows和unix之间
* 原子事务
* 增量和连续更新
* 容易扩展
* 性能
* 多进程同时使用 sqlite自动协调多个线程或进程对同一文档的并发访问
* 多种变成语言 多种语言存在接口
* 更好的应用程序