### 重构分类



| 类型       | 描述                               | 例子                         |
| ---------- | ---------------------------------- | ---------------------------- |
| 结构重构   | 对表或视图变更                     | 列移动，列拆分               |
| 数据质量   | 改进数据库包含的信息的质量         | 非空，统一格式               |
| 参照性完整 | 参照约束行为                       | 增加触发器支持实体间层叠删除 |
| 架构重构   | 总体上改变了外部与数据库交互的方式 | 用数据库存取过程代替java操作 |
| 方法重构   | 对方法变更                         | 存储过程改名                 |
| 转换       | 对schema变更，改变schema语义       | 增加列                       |





### 保持语义

移动列-》引入列



## smell

* 多用途
* 重复数据
* 列多
* 行多
* 智能列
* 害怕变化



## 注意

* 应用只需要与一种schema交互
* 过渡期的处理
* 面向数据库的测试
* 小而增量
* 触发器，视图与批量同步
* 标识每一次操作
* 数据版本
* 保持语义